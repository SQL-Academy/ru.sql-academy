# Функции преобразования типов, CAST

Когда мы выполняем операции со значениями с разными типами данных, СУБД пытается выполнить преобразование и привести используемые значения к нужному типу.
Например, в примере ниже мы сравниваем значения с типами `STRING` и `INT`. Чтобы выполнить это сравнение MySQL автоматически
сконвертирует строковое значение в числовое.

```sql
SELECT '50' > 49, '50' > 51;
```

| '50' > 49 | '50' > 51 |
| --------- | --------- |
| 1         | 0         |

Но не все преобразования СУБД может сделать автоматически, и тогда необходимо делать явное преобразование типов.
Для этого в MySQL есть две очень схожие функции `CAST` и `CONVERT`.

## Синтаксис

```sql
CAST(значение AS тип_для_конвертации);
CONVERT(значение, тип_для_конвертации);
```

Например,

```sql
SELECT CAST(12005.6 AS DECIMAL), CONVERT(12005.4, DECIMAL);
```

| 'CAST(12005.6 AS DECIMAL)' | 'CONVERT(12005.4, DECIMAL)' |
| -------------------------- | --------------------------- |
| 12006                      | 12005                       |

Функция CAST умеет конвертировать переданное значение в любой из следующих типов:

| Тип                | Описание                                                                                                                                                                                                   |
| :----------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `DATE`             | Конвертирует значение в `DATE`. Формат: "YYYY-MM-DD".                                                                                                                                                      |
| `DATETIME`         | Конвертирует значение в `DATETIME`. Формат: "YYYY-MM-DD hh:mm:ss".                                                                                                                                         |
| `TIME`             | Конвертирует значение в `TIME`. Формат: "hh:mm:ss".                                                                                                                                                        |
| `DECIMAL[(M[,D])]` | Конвертирует значение в `DECIMAL`. Имеет два необязательных аргумента `M` и `D`, определяющих максимальное количество знаков до и после запятой соответственно. По умолчанию, `D` равен 0, а `M` равен 10. |
| `CHAR[(N)]`        | Конвертирует значение в `CHAR`. В качестве необязательного аргумента можно передать максимальную длину строки.                                                                                             |
| `SIGNED`           | Конвертирует значение в значение `BIGINT`.                                                                                                                                                                 |
| `UNSIGNED`         | Конвертирует значение в беззнаковое значение `BIGINT`.                                                                                                                                                     |
| `BINARY`           | Конвертирует значение в `BINARY`.                                                                                                                                                                          |
| `YEAR`             | Конвертирует значение в год.                                                                                                                                                                               |

## Невозможность любой конвертации

Использование функции `CAST` накладывает требования к формату исходного значения. И сразу же напрашивается вопрос, что
произойдёт, если данный формат не будет соответствовать необходимому?
Например, если попробовать сконвертировать случайный текст во временной тип данных:

```sql
SELECT CAST('SQL Academy' AS DATETIME);
```

| CAST('SQL Academy' AS DATETIME) |
| ------------------------------- |
| <NULL>                          |

В этом случае MySQL вернёт `NULL` вместо сконвертированного значения.
