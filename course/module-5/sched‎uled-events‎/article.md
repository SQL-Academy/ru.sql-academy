---
meta:
    title: '–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–æ–±—ã—Ç–∏–π –≤ SQL: MySQL EVENT –∏ PostgreSQL pg_cron'
    description: '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –≤ MySQL –∏ PostgreSQL. –ù–∞—É—á–∏—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EVENT scheduler –∏ pg_cron –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã.'
---

<DBMSSwitcher />

# –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (Events)

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é: –æ—á–∏—â–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏, –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã. –î–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á SQL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º **–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π**.

> **–°–æ–±—ã—Ç–∏–µ** ‚Äî —ç—Ç–æ –∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä—É—é –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∞–º–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –í—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ ‚Äî –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

<MySQLOnly>

–°–æ–±—ã—Ç–∏—è –≤ MySQL –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ: –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –∑–∞–¥–∞—á—É –æ–¥–∏–Ω —Ä–∞–∑, –∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

</MySQLOnly>

<PostgreSQLOnly>

–í PostgreSQL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **pg_cron**. –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å SQL-–∫–æ–º–∞–Ω–¥—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ cron (–∫–∞–∫ –≤ Unix-—Å–∏—Å—Ç–µ–º–∞—Ö).

</PostgreSQLOnly>

## –ö–æ–≥–¥–∞ –æ–Ω –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è

–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ–º–æ–≥–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:

-   **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π –ª–æ–≥–æ–≤ –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
-   **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**: –ø–µ—Ä–µ—Å—á—ë—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
-   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤
-   **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–π –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

<MySQLOnly>

–ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–æ–±—ã—Ç–∏–π –≤–∫–ª—é—á—ë–Ω:

```sql
SHOW VARIABLES LIKE 'event_scheduler';
```

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–∫–ª—é—á–µ–Ω, –≤–∫–ª—é—á–∏—Ç–µ –µ–≥–æ:

```sql
SET GLOBAL event_scheduler = ON;
```

</MySQLOnly>

<PostgreSQLOnly>

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –≤ PostgreSQL –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pg_cron:

```sql
CREATE EXTENSION IF NOT EXISTS pg_cron;
```

> **–í–∞–∂–Ω–æ:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ pg_cron –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–∞–≤ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL. –í –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö (AWS RDS, Azure) –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∂–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

</PostgreSQLOnly>

## –°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è

–ù–∞—á–Ω—ë–º —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ ‚Äî —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è:

<MySQLOnly>

```sql-executable
CREATE EVENT cleanup_old_logs
ON SCHEDULE AT CURRENT_TIMESTAMP + INTERVAL 1 DAY
DO
    DELETE FROM logs WHERE created_at < NOW() - INTERVAL 30 DAY;
```

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ —É–¥–∞–ª–∏—Ç –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è.

**–†–∞–∑–±–µ—Ä—ë–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

-   `CREATE EVENT cleanup_old_logs` ‚Äî —Å–æ–∑–¥–∞—ë–º —Å–æ–±—ã—Ç–∏–µ —Å –∏–º–µ–Ω–µ–º `cleanup_old_logs`
-   `ON SCHEDULE AT` ‚Äî —É–∫–∞–∑—ã–≤–∞–µ–º, –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è
-   `CURRENT_TIMESTAMP + INTERVAL 1 DAY` ‚Äî –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—á–µ—Ä–µ–∑ 1 –¥–µ–Ω—å)
-   `DO` ‚Äî –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å (–ª—é–±–æ–π SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä)

</MySQLOnly>

<PostgreSQLOnly>

```sql
SELECT cron.schedule(
    'cleanup_old_logs',
    '0 3 * * *',
    'DELETE FROM logs WHERE created_at < NOW() - INTERVAL ''30 days'''
);
```

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 —É—Ç—Ä–∞ –∏ —É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π.

**–†–∞–∑–±–µ—Ä—ë–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

-   `cron.schedule()` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
-   `'cleanup_old_logs'` ‚Äî –∏–º—è –∑–∞–¥–∞—á–∏
-   `'0 3 * * *'` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ cron (–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏)
-   –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî SQL-–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–§–æ—Ä–º–∞—Ç cron —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:**

![–§–æ—Ä–º–∞—Ç cron —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è](https://sql-academy.org/static/guidePage/scheduled-events/cron_schedule_ru.png '–§–æ—Ä–º–∞—Ç cron —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è')

</PostgreSQLOnly>

## –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è —Å–æ–±—ã—Ç–∏—è

–ß–∞—â–µ –≤—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏—è –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, —á–∞—Å –∏–ª–∏ –º–∏–Ω—É—Ç—É:

<MySQLOnly>

```sql-executable
CREATE EVENT update_statistics
ON SCHEDULE EVERY 1 HOUR
DO
BEGIN
    UPDATE product_stats SET
        total_sales = (SELECT SUM(amount) FROM orders WHERE product_id = product_stats.product_id),
        last_updated = NOW();
END;
```

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–¥–∞–∂ –∫–∞–∂–¥—ã–π —á–∞—Å.

**–†–∞–∑–±–µ—Ä—ë–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

-   `ON SCHEDULE EVERY 1 HOUR` ‚Äî –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∂–¥—ã–π —á–∞—Å
-   `BEGIN ... END` ‚Äî –±–ª–æ–∫ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤:**

-   `EVERY 1 MINUTE` ‚Äî –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
-   `EVERY 1 HOUR` ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å
-   `EVERY 1 DAY` ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
-   `EVERY 1 WEEK` ‚Äî –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
-   `EVERY 1 MONTH` ‚Äî –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
-   `EVERY 30 SECOND` ‚Äî –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

</MySQLOnly>

<PostgreSQLOnly>

```sql
SELECT cron.schedule(
    'update_statistics_hourly',
    '0 * * * *',
    $$
    UPDATE product_stats SET
        total_sales = (SELECT SUM(amount) FROM orders WHERE product_id = product_stats.product_id),
        last_updated = NOW()
    $$
);
```

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–¥–∞–∂ –∫–∞–∂–¥—ã–π —á–∞—Å (–≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —á–∞—Å–∞).

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π:**

-   `'*/5 * * * *'` ‚Äî –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
-   `'0 * * * *'` ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å (–≤ –Ω–∞—á–∞–ª–µ —á–∞—Å–∞)
-   `'0 0 * * *'` ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–Ω–æ—á—å
-   `'0 0 * * 0'` ‚Äî –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ –ø–æ–ª–Ω–æ—á—å
-   `'0 9 1 * *'` ‚Äî –ø–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 9:00

</PostgreSQLOnly>

## –°–æ–±—ã—Ç–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–æ–±—ã—Ç–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ —Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥:

<MySQLOnly>

```sql-executable
CREATE EVENT seasonal_discount
ON SCHEDULE EVERY 1 DAY
STARTS '2025-12-01 00:00:00'
ENDS '2025-12-31 23:59:59'
DO
    UPDATE products SET price = price * 0.9 WHERE category = 'seasonal';
```

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å–∫–∏–¥–∫—É 10% –Ω–∞ —Å–µ–∑–æ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–µ–∫–∞–±—Ä—è 2025 –≥–æ–¥–∞.

**–ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**

-   `STARTS` ‚Äî –Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–±—ã—Ç–∏—è
-   `ENDS` ‚Äî –∫–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–±—ã—Ç–∏—è

–ü–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã —Å–æ–±—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è.

</MySQLOnly>

<PostgreSQLOnly>

–í pg_cron –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á, –Ω–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∞—Ç—ã –≤ —Å–∞–º—É –∫–æ–º–∞–Ω–¥—É:

```sql
SELECT cron.schedule(
    'seasonal_discount',
    '0 0 * * *',
    $$
    UPDATE products
    SET price = price * 0.9
    WHERE category = 'seasonal'
      AND CURRENT_DATE BETWEEN '2025-12-01' AND '2025-12-31'
    $$
);
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∫–æ–Ω—Ü–µ –ø–µ—Ä–∏–æ–¥–∞:

```sql
SELECT cron.schedule(
    'remove_seasonal_discount',
    '0 0 1 1 *',  -- 1 —è–Ω–≤–∞—Ä—è –≤ –ø–æ–ª–Ω–æ—á—å
    $$SELECT cron.unschedule('seasonal_discount')$$
);
```

</PostgreSQLOnly>

## –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

<MySQLOnly>

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:

```sql
SHOW EVENTS;
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ–±—ã—Ç–∏–π –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```sql
SHOW EVENTS FROM your_database_name;
```

</MySQLOnly>

<PostgreSQLOnly>

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

```sql
SELECT * FROM cron.job;
```

–≠—Ç–æ –≤–µ—Ä–Ω—ë—Ç —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –∑–∞–¥–∞—á–∞–º–∏, –≤–∫–ª—é—á–∞—è –∏—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–æ–º–∞–Ω–¥—ã.

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á:

```sql
SELECT * FROM cron.job_run_details
ORDER BY start_time DESC
LIMIT 10;
```

</PostgreSQLOnly>

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏

<MySQLOnly>

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**

```sql
ALTER EVENT cleanup_old_logs DISABLE;
```

**–í–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**

```sql
ALTER EVENT cleanup_old_logs ENABLE;
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è:**

```sql
ALTER EVENT cleanup_old_logs
ON SCHEDULE EVERY 2 HOUR;
```

**–£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:**

```sql
DROP EVENT IF EXISTS cleanup_old_logs;
```

</MySQLOnly>

<PostgreSQLOnly>

**–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏:**

```sql
SELECT cron.unschedule('cleanup_old_logs');
```

–ò–ª–∏ –ø–æ ID –∑–∞–¥–∞—á–∏:

```sql
SELECT cron.unschedule(42);  -- –≥–¥–µ 42 - —ç—Ç–æ jobid –∏–∑ —Ç–∞–±–ª–∏—Ü—ã cron.job
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:**

–í pg_cron –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–¥–∞—á—É –Ω–∞–ø—Ä—è–º—É—é. –ù—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é:

```sql
-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é
SELECT cron.unschedule('cleanup_old_logs');

-- –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
SELECT cron.schedule(
    'cleanup_old_logs',
    '0 */2 * * *',  -- –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
    'DELETE FROM logs WHERE created_at < NOW() - INTERVAL ''30 days'''
);
```

</PostgreSQLOnly>

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ–±—ã—Ç–∏—è–º–∏

<MySQLOnly>

1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –Ω—É–∂–Ω–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è `EVENT`.

2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞**: –°–æ–±—ã—Ç–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —Å–æ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É), —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

</MySQLOnly>

<PostgreSQLOnly>

1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è pg_cron –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.

2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞**: –ó–∞–¥–∞—á–∏ pg_cron –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω–µ PostgreSQL (–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `SHOW timezone;`).

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Pg_cron –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É, –ø–æ—ç—Ç–æ–º—É –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å ‚Äî 1 –º–∏–Ω—É—Ç–∞.

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `cron.job_run_details`, —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

</PostgreSQLOnly>

## –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞

–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π?
–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —á–∏—Å—Ç–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö, –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ —É—á–∞—Å—Ç–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤! üöÄ
