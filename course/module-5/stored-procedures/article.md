---
meta:
    title: '–•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ SQL'
    description: '–°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä –≤ SQL. –°–∏–Ω—Ç–∞–∫—Å–∏—Å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —É—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Ü–∏–∫–ª—ã –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã.'
---

# –•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ SQL

–•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –±–ª–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

<MySQLOnly>

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.

</MySQLOnly>

<PostgreSQLOnly>

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –Ω–æ –Ω–µ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.

</PostgreSQLOnly>

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–∏–º–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

<MySQLOnly>

```sql
CREATE PROCEDURE –∏–º—è_–ø—Ä–æ—Ü–µ–¥—É—Ä—ã(–ø–∞—Ä–∞–º–µ—Ç—Ä1 –¢–ò–ü, –ø–∞—Ä–∞–º–µ—Ç—Ä2 –¢–ò–ü, ...)
BEGIN
    -- –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
END;
```

</MySQLOnly>

<PostgreSQLOnly>

```sql
CREATE OR REPLACE PROCEDURE –∏–º—è_–ø—Ä–æ—Ü–µ–¥—É—Ä—ã(–ø–∞—Ä–∞–º–µ—Ç—Ä1 –¢–ò–ü, –ø–∞—Ä–∞–º–µ—Ç—Ä2 –¢–ò–ü, ...)
LANGUAGE plpgsql
AS $$
BEGIN
    -- –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
END;
$$;
```

`LANGUAGE plpgsql` ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ —è–∑—ã–∫–µ **PL/pgSQL** (–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º —è–∑—ã–∫–µ PostgreSQL).

`AS $$ ... $$` ‚Äî **–¥–æ–ª–ª–∞—Ä–æ–≤–æ–µ –∫–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–º–ª–µ–Ω–∏—è —Ç–µ–ª–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

</PostgreSQLOnly>

## –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—É–¥–µ–Ω—Ç–µ:

<MySQLOnly>

```sql-executable-Schedule
-- –°–æ–∑–¥–∞—ë–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É
CREATE PROCEDURE update_student_info(
    IN student_id INT,
    IN new_first_name VARCHAR(50),
    IN new_last_name VARCHAR(50)
)
BEGIN
    UPDATE Student
    SET first_name = new_first_name,
        last_name = new_last_name
    WHERE id = student_id;
END;

-- –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É
CALL update_student_info(1, 'Alexander', 'Smirnov');

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT * FROM Student WHERE id = 1;
```

</MySQLOnly>

<PostgreSQLOnly>

```sql-executable-Schedule
-- –°–æ–∑–¥–∞—ë–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É
CREATE OR REPLACE PROCEDURE update_student_info(
    student_id INT,
    new_first_name VARCHAR(50),
    new_last_name VARCHAR(50)
)
LANGUAGE plpgsql
AS $$
BEGIN
    UPDATE Student
    SET first_name = new_first_name,
        last_name = new_last_name
    WHERE id = student_id;
END;
$$;

-- –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É
CALL update_student_info(1, 'Alexander', 'Smirnov');

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT * FROM Student WHERE id = 1;
```

</PostgreSQLOnly>

–≠—Ç–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ID —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `Student`.

<MySQLOnly>
## –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ—Ü–µ–¥—É—Ä

–í MySQL –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ —Ö—Ä–∞–Ω–∏–º—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É:

-   **IN** ‚Äî –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
-   **OUT** ‚Äî –≤—ã—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π
-   **INOUT** ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–º–∏, —Ç–∞–∫ –∏ –≤—ã—Ö–æ–¥–Ω—ã–º–∏

### –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (IN)

–í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—É. –≠—Ç–æ —Å–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç–∏–ø –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```sql-executable-Schedule
CREATE PROCEDURE add_subject(
    IN subject_id INT,
    IN subject_name VARCHAR(100)
)
BEGIN
    INSERT INTO Subject (id, name)
    VALUES (subject_id, subject_name);
END;

-- –í—ã–∑–æ–≤ —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
CALL add_subject(15, 'Mathematics');
```

### –í—ã—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (OUT)

–í—ã—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:

```sql-executable-Schedule
CREATE PROCEDURE get_student_info(
    IN student_id INT,
    OUT student_name VARCHAR(100),
    OUT student_age INT
)
BEGIN
    SELECT
        CONCAT(first_name, ' ', last_name),
        TIMESTAMPDIFF(YEAR, birthday, CURDATE())
    INTO student_name, student_age
    FROM Student
    WHERE id = student_id;
END;

-- –í—ã–∑–æ–≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å –≤—ã—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
CALL get_student_info(1, @name, @age);
SELECT @name AS student_name, @age AS student_age;
```


### –í—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (INOUT)

INOUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```sql-executable-Schedule
CREATE PROCEDURE calculate_discount(
    INOUT price DECIMAL(10,2),
    IN discount_percent INT
)
BEGIN
    SET price = price - (price * discount_percent / 100);
END;

-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ INOUT –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
SET @original_price = 1000.00;
CALL calculate_discount(@original_price, 15);
SELECT @original_price AS discounted_price;
```

</MySQLOnly>


<MySQLOnly>

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Ç—Ä—ë—Ö —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

![–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ö—Ä–∞–Ω–∏–º–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–µ](https://sql-academy.org/static/guidePage/stored-procedures/params-description.jpg '–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ö—Ä–∞–Ω–∏–º–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–µ')

### –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –¢–∏–ø –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ     | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ                   |
| ------------- | --------------- | ------------------------------- |
| **IN**        | –í—Ö–æ–¥—è—â–∏–π        | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—É     |
| **OUT**       | –ò—Å—Ö–æ–¥—è—â–∏–π       | –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã |
| **INOUT**     | –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è  |

> **–í–∞–∂–Ω–æ:** OUT –∏ INOUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ MySQL —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@variable_name`) –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

</MySQLOnly>

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–º—ã–º–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏

-   **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä**

    <MySQLOnly>

    ```sql
    SHOW PROCEDURE STATUS WHERE Db = 'your_database_name';
    ```

    </MySQLOnly>

    <PostgreSQLOnly>

    ```sql
    SELECT routine_name, routine_type
    FROM information_schema.routines
    WHERE routine_type = 'PROCEDURE' AND routine_schema = 'public';
    ```

    </PostgreSQLOnly>

-   **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã**

    <MySQLOnly>

    ```sql
    DROP PROCEDURE IF EXISTS add_student;
    ```

    </MySQLOnly>

    <PostgreSQLOnly>

    ```sql
    DROP PROCEDURE IF EXISTS add_student(VARCHAR, VARCHAR, DATE);
    ```

    </PostgreSQLOnly>

-   **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã**

    <MySQLOnly>

    –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ MySQL –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é:

    ```sql
    DROP PROCEDURE IF EXISTS add_student;
    -- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
    CREATE PROCEDURE add_student(...) ...
    ```

    </MySQLOnly>

    <PostgreSQLOnly>

    –í PostgreSQL –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `CREATE OR REPLACE PROCEDURE`:

    ```sql
    CREATE OR REPLACE PROCEDURE add_student(
        student_first_name VARCHAR(50),
        student_last_name VARCHAR(50),
        student_birthday DATE
    )
    -- –Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    ```

    </PostgreSQLOnly>

–•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –ø—Ä—è–º–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—é –ª–æ–≥–∏–∫–∏, –ø–æ–≤—ã—à–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö! üöÄ
