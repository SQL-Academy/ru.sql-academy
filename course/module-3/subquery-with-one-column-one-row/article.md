# Подзапрос с одной строкой с одним столбцом

В этом уроке давайте более детально остановимся на подзапросе, возвращающем одну строку и один столбец.
Данный тип подзапросов также известен как скалярный подзапрос.

Он может использоваться в различных частях основного SQL запроса, но чаще всего он используется
в условиях ограничений выборки с помощью операторов сравнения (`=`, `<>`, `>`, `<`).

## Примеры

Следующий простейший запрос демонстрирует вывод единственного значения (названия компании).
В таком виде он не имеет большого смысла, однако ваши запросы могут быть намного сложнее.

```sql
SELECT (SELECT name FROM company LIMIT 1) AS company_name;
```

| company_name |
| ------------ |
| Don_avia     |

Таким же образом можно использовать скалярные подзапросы для фильтрации строк с помощью `WHERE`, используя операторы сравнения.

```sql
SELECT * FROM FamilyMembers
    WHERE birthday = (SELECT MAX(birthday) FROM FamilyMembers);
```

| member_id | status   | member_name      | birthday                 |
| --------- | -------- | ---------------- | ------------------------ |
| 8         | daughter | Wednesday Addams | 2005-01-13T00:00:00.000Z |

С помощью данного запроса возможно получить самого младшего члена семьи.
Подзапрос в данном случае необходим для получения максимальной даты рождения, которая затем используется в основном запросе для фильтрации строк.

## Важность соответствия используемого оператора и результата подзапроса

При использовании результата подзапроса с операторами сравнения, как в нашем примере, важно, чтобы подзапрос возвращал именно скалярное значение (1 строка и 1 колонка).

Если бы данный подзапрос вернул несколько значений, то СУБД бы вернула ошибку, сообщающую, что ожидалось, что подзапрос вернёт лишь 1 запись:
«ER_SUBQUERY_NO_1_ROW: Subquery returns more than 1 row».

Поэтому стоит быть осторожным при написании подзапросов и представлять, какой результат вернёт подзапрос,
и какие операторы мы можем использовать вместе с результирующим набором.
